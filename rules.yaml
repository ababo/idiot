sentence:
    # Я люблю шоколад, но ненавижу пористый.
    - pat: "{compound_sentence}{sentence_ending}"
    # Я пошла на кухню, чтобы сделать маме чай.
    - pat: "{complex_sentence}{sentence_ending}"

sentence_ending:
    - pat: "."
    - pat: "?"
    - pat: "!"

compound_sentence:
    # Сегодня я поеду к бабушке.
    - pat: "{simple_sentence}"
    # Воздух дышит весенним ароматом, и вся природа оживляется. 
    - pat: "{simple_sentence}, {compound_sentence}"
      equiv:
        - "{2}, {1}"
    # Папа вышел на пробежку, и мы встретились. 
    - pat: "{simple_sentence}, и {compound_sentence}"
      equiv:
        - "{2}, и {1}"
    # Мы гуляли, а мама в это время была на работе.
    - pat: "{simple_sentence}, а {compound_sentence}"
      equiv:
        - "{2}, а {1}"

complex_sentence:

simple_sentence:
    # В огороде лежит большой камень.
    - pat: "{predicate_groups number=@1 gender=@2} {subject_groups number=@1 gender=@1}"
      equiv:
        # Большой камень лежит в огороде.
        - "{2} {1 require=adverbial_ending}"
    # Толстый мальчик посмотрел на меня.
    - pat: "{subject_groups number=@1 gender=@1} {predicate_groups number=@1 gender=@2}"
      equiv:
        # На меня посмотрел толстый мальчик.
        - "{2 require=adverbial_beginning} {1}"

predicate_groups:
    # весело прыгает по волнам
    - pat: "{predicate_group !number !gender}"
    # в огне не горит, в воде не тонет
    - pat: "{predicate_group !number=@1 !gender=@2}, {predicate_groups number=@1 gender=@2}"
      equiv:
        - "{2}, {1}"
    # шагает по траве и поёт
    - pat: "{predicate_group !number=@1 !gender=@2} и {predicate_groups number=@1 gender=@2}"
      equiv:
        - "{2} и {1}"

predicate_group:
    # прыгает
    - pat: "{predicate !number !gender !tense}"
    # бьёт сильно
    - pat: "{predicate !number !gender !tense} {adverbial_modifiers}"
      equiv:
        - "{2} {1}"
    # много платит
    - pat: "{adverbial_modifiers} {predicate !number !gender !tense}"
      equiv:
        - "{2} {1}"
    # обижает Васю
    - pat: "{predicate !number !gender !tense} {object_groups}"
      equiv:
        - "{2} {1}"
    # деньги платят
    - pat: "{object_groups} {predicate !number !gender !tense}"
      equiv:
        - "{2} {1}"
    # дал много сока
    - pat: "{predicate !number !gender !tense} {adverbial_modifiers} {object_groups}"
      equiv:
        # много дал сока
        - "{2} {1} {3}"
        # сока много дал
        - "{3} {2} {1}"
        # сока дал много
        - "{3} {1} {2}"
    # сильно вымазал зелёнкой
    - pat: "{adverbial_modifiers} {predicate !number !gender !tense} {object_groups}"
      equiv:
        # вымазал сильно зелёнкой
        - "{2} {1} {3}"
        # зелёнкой сильно вымазал
        - "{3} {1} {2}"
        # зелёнкой вымазал сильно
        - "{3} {2} {1}"
    # ему открылась полностью
    - pat: "{object_groups} {predicate !number !gender !tense} {adverbial_modifiers}"
      equiv:
        # открылась полностью ему
        - "{2} {3} {1}"
        # полностью открылась ему
        - "{3} {2} {1}"
        # ему полностью открылась
        - "{1} {3} {2}"
    # ей много дали
    - pat: "{object_groups} {adverbial_modifiers} {predicate !number !gender !tense}"
      equiv:
        # дали много ей ????
        # много дали ей
        # ей дали много

# проработать две формы: кому/чему и что