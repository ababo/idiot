sentence:
    # Я люблю шоколад, но ненавижу пористый.
    - pat: "{compound_sentence}{sentence_ending}"
    # Я пошла на кухню, чтобы сделать маме чай.
    - pat: "{complex_sentence}{sentence_ending}"

sentence_ending:
    - pat: "."
    - pat: "?"
    - pat: "!"

compound_sentence:
    # Сегодня я поеду к бабушке.
    - pat: "{simple_sentence}"
    # Воздух дышит весенним ароматом, и вся природа оживляется. 
    - pat: "{simple_sentence}, {compound_sentence}"
      equiv:
        - "{2}, {1}"
    # Папа вышел на пробежку, и мы встретились. 
    - pat: "{simple_sentence}, и {compound_sentence}"
      equiv:
        - "{2}, и {1}"
    # Мы гуляли, а мама в это время была на работе.
    - pat: "{simple_sentence}, а {compound_sentence}"
      equiv:
        - "{2}, а {1}"

complex_sentence:

simple_sentence:
    # В огороде лежит большой камень.
    - pat: "{predicate_groups number=@1 gender=@2} {subject_groups number=@1 gender=@1}"
      equiv:
        # Большой камень лежит в огороде.
        - "{2} {1 require=adverbial_ending}"
    # Толстый мальчик посмотрел на меня.
    - pat: "{subject_groups number=@1 gender=@1} {predicate_groups number=@1 gender=@2}"
      equiv:
        # На меня посмотрел толстый мальчик.
        - "{2 require=adverbial_beginning} {1}"

predicate_groups:
    # весело прыгает по волнам
    - pat: "{predicate_group !number !gender}"
    # в огне не горит, в воде не тонет
    - pat: "{predicate_group !number=@1 !gender=@2}, {predicate_groups number=@1 gender=@2}"
      equiv:
        - "{2}, {1}"
    # шагает по траве и поёт
    - pat: "{predicate_group !number=@1 !gender=@2} и {predicate_groups number=@1 gender=@2}"
      equiv:
        - "{2} и {1}"

predicate_group:
    # прыгает
    - pat: "{predicate !number !gender !tense}"
    # тяжело дышит
    - pat: "{adverbial_modifiers} {predicate !number !gender !tense}"
    # стучать кувалдой
    - pat: "{predicate !number !gender !tense} {object_groups case=ablt}"
    # быстро прикрылся щитом
    - pat: "{adverbial_modifiers} {predicate !number !gender !tense} {object_groups case=ablt}"

adverbial_modifiers:
    # красиво
    - pat: "{adverbial_modifier}"
    # модно, стильно, молодёжно
    - pat: "{adverbial_modifier}, {adverbial_modifiers}"
    # тепло и уютно
    - pat: "{adverbial_modifier} и {adverbial_modifiers}"

adverbial_modifier:
    # наполовину
    - pat: "{pos=advb}"

predicate:
    # висит
    - pat: "{pos=verb !number !gender !tense}"
    # ржавая
    - pat: "{attribute !number case=nomn !gender}"

subject_groups:
    # слон и Моська
    - pat: "{object_groups !number case=nomn !gender}"

object_groups:
    # больничном дворе
    - pat: "{object_group !number !case !gender}"
    # репейника, крапивы и дикой конопли
    - pat: "@{number=plur}{object_group !case=@1 !gender}, {object_groups case=@1 gender}"
    # маленьким ребёнком и седым стариком
    - pat: "@{number=plur}{object_group !case=@1 !gender} и {object_groups case=@1 gender}"

object_group:
    # самолёта
    - pat: "{object !number !case !gender}"
    # красивых и уютных палатах
    - pat: "{attributes number=@1 case=@2 gender=@3} {object !number=@1 !case=@2 !gender=@3}"

object:
    # банки
    - pat: "{pos=noun !number !case !gender}"
    # она
    - pat: "{pos=npro !number !case !gender}"
    # семеро
    - pat: "{pos=numr !number !case !gender}"

attributes:
    # красивой
    - pat: "{attribute !number !case !gender}"
    # тёплая шерстяная
    - pat: "{attribute !number=@1 !case=@2 !gender=@3} {attributes number=@1 case=@2 gender=@3}"
    # красивых и умных
    - pat: "{attribute !number=@1 !case=@2 !gender=@3} и {attributes number=@1 case=@2 gender=@3}"

attribute:
    # милую
    - pat: "{pos=adjf !number !case !gender}"
    # развитый
    - pat: "{pos=prts !number !case !gender}"
