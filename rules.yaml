sentence:
    # Я люблю шоколад, но ненавижу пористый.
    - pat: "{compound_sentence}{sentence_ending}"
    # Я пошла на кухню, чтобы сделать маме чай.
    - pat: "{complex_sentence}{sentence_ending}"

sentence_ending:
    - pat: "."
    - pat: "?"
    - pat: "!"

compound_sentence:
    # Сегодня я поеду к бабушке.
    - pat: "{simple_sentence}"
    # Воздух дышит весенним ароматом, вся природа оживляется. 
    - pat: "{simple_sentence}, {compound_sentence}"
    # Папа вышел на пробежку, и мы встретились. 
    - pat: "{simple_sentence}, и {compound_sentence}"
    # Мы гуляли, а мама в это время была на работе.
    - pat: "{simple_sentence}, а {compound_sentence}"

complex_sentence:

simple_sentence:
    # В огороде лежит большой камень.
    - pat: "{predicate_groups number=@1 gender=@2 person=@3 ext=no} {subject_groups number=@1 gender=@2 person=@3}"
    # Толстый мальчик посмотрел на меня.
    - pat: "{subject_groups number=@1 gender=@2 person=@3} {predicate_groups number=@1 gender=@2 person=@3 ext=yes}"

predicate_groups:
    # весело прыгает по волнам
    - pat: "{predicate_group !number !gender !person !ext}"
    # в огне не горит, в воде не тонет
    - pat: "{predicate_group !number=@1 !gender=@2 !person=@3 !ext=@4}, {predicate_groups number=@1 gender=@2 person=@3 ext=@4}"
    # шагает по траве и поёт
    - pat: "{predicate_group !number=@1 !gender=@2 !person=@3 !ext=@4} и {predicate_groups number=@1 gender=@2 person=@3 ext=@4}"

predicate_group:
    # прыгает
    - pat: "{predicate !number !gender !person !ext}"
    # тяжело дышит
    - pat: "{adverbial_modifiers} {predicate !number !gender !person !ext=no}"
    # стучать кувалдой
    - pat: "{predicate !number !gender !person !ext} {object_groups case=ablt}"
    # быстро прикрылся щитом
    - pat: "{adverbial_modifiers} {predicate !number !gender !person !ext=no} {object_groups case=ablt}"

adverbial_modifiers:
    # красиво
    - pat: "{adverbial_modifier}"
    # модно, стильно, молодёжно
    - pat: "{adverbial_modifier}, {adverbial_modifiers}"
    # тепло и уютно
    - pat: "{adverbial_modifier} и {adverbial_modifiers}"

adverbial_modifier:
    # наполовину
    - pat: "{pos=advb}"
    # в большом тереме
    - pat: "в {object_groups case=loct}"
    # на крыше дома
    - pat: "на {object_groups case=loct}"
    # под столом
    - pat: "под {object_groups case=ablt}"
    # над головой
    - pat: "над {object_groups case=ablt}"
    # через реку
    - pat: "через {object_groups case=accs}"
    # у озера
    - pat: "у {object_groups case=gent}"

predicate:
    # висит
    - pat: "@{ext=no}{pos=verb !number !gender !person}"
    - pat: "@{ext=yes}{pos=verb !number !gender !person}"
    # завершено
    - pat: "@{ext=no}{pos=prts !number !case !gender}"
    - pat: "@{ext=yes}{pos=prts !number !case !gender}"
    # ржавая
    - pat: "@{ext=yes}{attribute !number case=nomn}"

subject_groups:
    # слон и Моська
    - pat: "{object_groups !number case=nomn !gender !person}"

object_groups:
    # больничном дворе
    - pat: "{object_group !number !case !gender !person}"
    # репейника, крапивы и дикой конопли
    - pat: "@{number=plur}{object_group !case=@1 !person=@2}, {object_groups case=@1 person=@2}"
    # маленьким ребёнком и седым стариком
    - pat: "@{number=plur}{object_group !case=@1 !person=@2} и {object_groups case=@1 person=@2}"

object_group:
    # самолёта
    - pat: "{object !number !case !gender !person}"
    # красивых и уютных палатах
    - pat: "{attributes number=@1 case=@2 gender=@3} {object !number=@1 !case=@2 !gender=@3 !person}"

object:
    # банки
    - pat: "@{person=3per}{pos=noun !number !case !gender}"
    # она
    - pat: "{pos=npro !number !case !gender !person}"
    # семеро
    - pat: "@{number=plur}{pos=numr !number !case !gender}"

attributes:
    # красивой
    - pat: "{attribute !number !case !gender}"
    # тёплая шерстяная
    - pat: "{attribute !number=@1 !case=@2 !gender=@3} {attributes number=@1 case=@2 gender=@3}"
    # красивых и умных
    - pat: "{attribute !number=@1 !case=@2 !gender=@3} и {attributes number=@1 case=@2 gender=@3}"

attribute:
    # милую
    - pat: "{pos=adjf !number !case !gender}"
    # развитый
    - pat: "{pos=prtf !number !case !gender}"
    # очень красивая
    - pat: "{adverbial_modifiers} {pos=adjf !number !case !gender}"
    # невероятно подвижный
    - pat: "{adverbial_modifiers} {pos=prts !number !case !gender}"
